<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">
    <script src="https://kit.fontawesome.com/8d5fec3580.js"></script>
    <script src="node_modules/systemjs/dist/system.js"></script>
    <script src="src/js/instascan.min.js" type="text/javascript"></script>

    <title>WPI ESL CPMS - WPI ESL Conversation Partner Management System</title>

    <!-- Bootstrap core CSS -->
    
    <link href="https://fonts.googleapis.com/css?family=Manjari&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="theme-bootstrap.css">
    <link rel="stylesheet" href="user.css">

    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->



    <!-- Custom styles for this template -->
    <style type="text/css">
        body {
            padding-top: 5rem;
        }

        .starter-template {
            padding: 3rem 1.5rem;
            text-align: center;
        }
    </style>
</head>

    
<body>

    <nav class="navbar navbar-expand-md navbar-dark bg-primary fixed-top">
        <a class="navbar-brand" href="#">
            <img src="images/wpi_logo.png" class="nav-logo">

        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown01">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
            </ul>
            
            <form class="form-inline my-2 my-lg-0">
                <!-- <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button> -->
                <!-- <input class="btn btn-outline-secondary"><div style="color: #eeeeee"><i class="fas fa-user"></i><span style="margin-left:10px;">Login/Signup</span></div></input> -->
                <button type="button" class="btn btn-outline-secondary" aria-label="Left Align" data-toggle="modal" data-target="#loginModal">
                        <span class="fas fa-user" aria-hidden="true" style="color: black;"> <span style="font-family: 'Manjari', sans-serif;">Join</span></span>
                      </button>
            </form>

        </div>
    </nav>
    <div style="margin:-21px"></div>
    <div class="jumbotron jumbotron-fluid hero-img" style="
        padding-top: 100px;
        padding-bottom: 100px;">
            <div class="hero-img-overlay"></div>
            <div class="container">
              <h1 class="display-6 hero-title">Welcome to ESL</h1>
              <p class="lead hero-title-desc">We aim to provide you the best experience in learning English.</p>
            </div>
          </div>


    <main role="main" class="container">
        <div style="background:#f5f8fd;padding: 20px;" class="section-shadow">
                <h3>Conversation Partner Management System</h3>
                <div class="row">
                    <div class="col-md-4 col-sm-12" style="margin-bottom:5px;">
                            <div class="card" style="width: 100%; height:12rem;">
                                    <!-- <img src="..." class="card-img-top" alt="..."> -->
                                    <div class="card-body">
                                      <h5 class="card-title"><i class="far fa-hand-paper" style="margin-right: 10px;"></i>Request</h5>
                                      <p class="card-text">Make a request to start a new conversation.</p>
                                      <a href="#" class="btn btn-primary btn-block" style="font-size:14px;" id="startConverstionBtn">Start Conversation</a>
                                    </div>
                                  </div>
                    </div>

                    <div class="col-md-4 col-sm-12" style="margin-bottom:5px;">
                            <div class="card" style="width: 100%; height:12rem;">
                                    <!-- <img src="..." class="card-img-top" alt="..."> -->
                                    <div class="card-body">
                                      <h5 class="card-title"><i class="fas fa-hands-helping" style="margin-right: 10px;"></i>Response</h5>
                                      <p class="card-text">Response to a conversation initialized before. </p>
                                      <a href="#" class="btn btn-primary btn-block" style="font-size:14px;" id="joinConversationBtn">Join Conversation</a>
                                    </div>
                                  </div>
                    </div>

                    <div class="col-md-4 col-sm-12" style="margin-bottom:5px;">
                            <div class="card" style="width: 100%; height:12rem;">
                                    <!-- <img src="..." class="card-img-top" alt="..."> -->
                                    <div class="card-body">
                                      <h5 class="card-title"><i class="far fa-clipboard" style="margin-right: 10px;"></i>Records</h5>
                                      <p class="card-text">The history records of conversation initialized before. </p>
                                      <a href="#" class="btn btn-primary btn-block" style="font-size:14px;" id="checkRecordBtn">Check Records</a>
                                    </div>
                                  </div>
                    </div>
            </div>
        </div>

        <div style="background:#f5f8fd;padding: 20px; margin-top: 20px;" class="section-shadow">
                <h3>Anouncements</h3>
                <div class="list-group">
                        
                        <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">Dapibus ac facilisis in<span class="badge badge-primary badge-pill">NEW</span></a>
                        <a href="#" class="list-group-item list-group-item-action">Morbi leo risus</a>
                        <a href="#" class="list-group-item list-group-item-action">Porta ac consectetur ac</a>
                        <a href="#" class="list-group-item list-group-item-action disabled" tabindex="-1" aria-disabled="true">Vestibulum at eros</a>
                      </div>
                <!-- <div style="margin-top:10px;display: flex;justify-content:flex-end;">
                      <a class="btn btn-primary" href="#" role="button">All Anouncements</a>
                </div> -->
        </div>

        <div style="background:#f5f8fd;padding: 20px; margin-top: 20px;" class="section-shadow">
                <h3>Discussions</h3>
                <div class="card text-center">
                        <div class="card-header">
                          <ul class="nav nav-tabs card-header-tabs">
                            <li class="nav-item">
                              <a class="nav-link active" href="#">Active</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="#">Link</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body">
                          <h5 class="card-title">Special title treatment</h5>
                          <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                          <a href="#" class="btn btn-primary">Go somewhere</a>
                        </div>
                      </div>
                <!-- <div style="margin-top:10px;display: flex;justify-content:flex-end;">
                      <a class="btn btn-primary" href="#" role="button">All Anouncements</a>
                </div> -->
        </div>

        

        

        <!-- <div class="starter-template">
            <h1>Bootstrap starter template</h1>
            <p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
        </div> -->

    </main>


    
    <footer style="min-height: 100%;margin-top: 20px;">
        <div style="background:#333333;height:60px;padding: 10px;">
            <div style="font-size:14px;color:#888888;">International House@WORCESTER POLYTECHNIC INSTITUTE</div>
            <div class="lead" style="font-size:12px;color:#888888;">Worcester, MA | 01609-2280
                    Ph: <span style="text-decoration:underline">508-831-5000</span></div>
        </div>
    </footer>

    <!-- /.container -->




    <!-- Login modal starts here -->

    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title font-red" id="loginModalLabel">Welcome to Join Us!</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                
                <div class="modal-body">
                <!-- login content starts -->

                <div id="WPI-login-content">
                  Your WPI Email:
                  <div class="input-group mb-3">
                        <input type="text" class="form-control" id="wpi-username-login-input" placeholder="WPI username" aria-label="Recipient's username" aria-describedby="basic-addon2">
                        <div class="input-group-append">
                          <span class="input-group-text" id="basic-addon2">@wpi.edu</span>
                        </div>
                </div>

                <div class="form-group">
                        <label for="exampleInputPassword1">Password:</label>
                        <input type="password" class="form-control" id="exampleInputPassword1" placeholder="ESL Password, not your bannerweb password.">
                      </div>

                <div style="font-size:14px;text-align: center;">
                        <p class="font-red" style="text-decoration-line: underline; margin-bottom: 0px;">Forget my password.</p>
            
                        <p style="font-size:14px; margin-top: 0px;margin-bottom: 0px;">Or</p>
        
                        <p class="font-red go-to-reg" style="text-decoration-line: underline; margin-top: 0px;">I am a new member in ESL.</p>
                
                </div>    
              </div>  
                

                 <!-- login content ends      -->


                 <!-- signup content starts -->
                <div id="WPI-Reg-content">
                    Your WPI Email:
                    <div class="input-group mb-3">
                            <input type="text" class="form-control" id="wpi-username-verify-input" placeholder="Your username" aria-label="Your username" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                            <span class="input-group-text" id="basic-addon2">@wpi.edu</span>
                            </div>
                    </div>

                    <p class="font-red go-to-login" style="font-size:14px;text-align: center;text-decoration-line: underline;">I already have an ESL account.</p>
                </div>
                <!-- signup content ends      -->

                <!-- verify email starts -->
                <div id="WPI-Verify-content">
                    Verification Code:
                    <div class="input-group mb-3">
                            <input type="text" id="verification-code-input" class="form-control" placeholder="Please input the 4-digit verification code" aria-label="Please input the 4-digit verification code" aria-describedby="basic-addon2">
                            </div>
                    

                <div style="text-align: center;font-size:14px">
                    <p class="font-red" style="text-decoration-line: underline; margin-bottom: 0px;">Change email</p>
            
                    <p style="margin-top: 0px;margin-bottom: 0px;">Or</p>

                    <p class="font-red" style="text-decoration-line: underline; margin-bottom: 0px;">Resend verification code <span>(wait for 30 seconds)</span></p>
            
                    <p style="margin-top: 0px;margin-bottom: 0px;">Or</p>

                    <p class="font-red go-to-login" style="font-size:14px;text-decoration-line: underline;">I already have an ESL account.</p>
                </div>
                
                  </div>
                <!-- verify email ends      -->


                <!-- setup password starts -->
                <div id="WPI-Password-content">

                  Password:
                  <div class="input-group mb-3">
                          <input type="text" id="password-set-input" class="form-control" placeholder="Please input your new password." aria-label="Please input the 4-digit verification code" aria-describedby="basic-addon2">
                          </div>

                  Confirm Password:
                  <div class="input-group mb-3">
                    <input type="text" id="password-repeat-input" class="form-control" placeholder="Input your password again." aria-label="Please input the 4-digit verification code" aria-describedby="basic-addon2">
                    </div>
                  

              <!-- <div style="text-align: center;font-size:14px">
                  <p class="font-red" style="text-decoration-line: underline; margin-bottom: 0px;">Change email</p>
          
                  <p style="margin-top: 0px;margin-bottom: 0px;">Or</p>

                  <p class="font-red" style="text-decoration-line: underline; margin-bottom: 0px;">Resend verification code <span>(wait for 30 seconds)</span></p>
          
                  <p style="margin-top: 0px;margin-bottom: 0px;">Or</p>

                  <p class="font-red go-to-login" style="font-size:14px;text-decoration-line: underline;">I already have an ESL account.</p>
              </div> -->
              
                </div>
              <!-- setup password ends      -->



                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" id="login-reg-confirm">Save changes</button>
                </div>
              </div>
            </div>
          </div>



    <!-- Login modal ends here -->


    <!-- qr generate model starts here -->
    <div class="modal fade" id="qrGenerateModal" tabindex="-1" role="dialog" aria-labelledby="qrGenerateLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title font-red" id="qrGenerateLabel">Scan to Join</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          
          <div class="modal-body">
          <!-- qr generate content starts -->
          <div class="card" style="width: 18rem; margin-left: auto;margin-right: auto;">
            <img src="..." class="card-img-top" alt="...">
            <!-- <div class="card-body">
              <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            </div> -->
          </div>
          <!-- qr generate content ends -->
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-primary">Use Code</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- qr generate model ends here -->



    <!-- qr scanner model starts here -->
    <div class="modal fade" id="qrScannerModal" tabindex="-1" role="dialog" aria-labelledby="qrScannerLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title font-red" id="qrScannerLabel">Please Scan</h5>
            <button type="button" class="close" id="qrScannerExitBtn" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          
          <div class="modal-body" style="height: 250px;">

            <div id="scannerContent" style="height:100%">
          <!-- qr scanner content starts style="width: 100%;height:100%;" -->
          <!-- <video id="qr-video" style="width: 100%;" poster="images/video-tag-poster.png" muted playsinline></video> -->

          <!-- src="scan.html" -->
          <iframe  id="scannerIframe" frameBorder="0" style="width: 100%;height: 100%" scrolling="no"></iframe>
          
          <!-- qr scanner content ends -->
          </div>

          <div id="inputCodeContent">
              Input Code:
              <div class="input-group mb-3">
                  <input type="text" id="verify-code-input" class="form-control" placeholder="Please input the code." aria-label="Please input the code." aria-describedby="basic-addon2">
                </div>
          </div>




          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" id="changeJoinMethodBtn">Use Code</button>
            <button type="button" class="btn btn-primary">Join</button>
          </div>
        </div>
      </div>
    </div>
    <!-- qr scanner model ends here -->





    <!-- conversatonResultModal model starts here -->
    <div class="modal fade" id="conversatonResultModal" tabindex="-1" role="dialog" aria-labelledby="conversatonResultLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title font-red" id="conversatonResultLabel">Let's Chat!</h5>
            <button type="button" class="close" id="conversatonResultExitBtn" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          
          <div class="modal-body" style="height: 250px;">

            <div id="conversatonResultContent" style="height:100%">
          <!-- qr scanner content starts style="width: 100%;height:100%;" -->
          <p style="font-weight:bold">Members</p>

              <ul class="list-unstyled">
                <li class="media">
                  <img src="images/boy.png" class="mr-3 avatar-icon" alt="...">
                  <div class="media-body">
                    <h5 class="mt-0 mb-1">Ray</h5>
                    Challenge everything.
                    <p style="color: #888888;font-size:14px">shou@wpi.edu</p>
                  </div>
                </li>
                <li class="media">
                  <img src="images/girl.png" class="mr-3 avatar-icon" alt="...">
                  <div class="media-body">
                    <h5 class="mt-0 mb-1">Mike</h5>
                    Nice to meet ya.
                    <p style="color: #888888;font-size:14px">mike@wpi.edu</p>
                  </div>
                </li>
              </ul>
          
          
          <!-- qr scanner content ends -->
          </div>

          




          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="startConversationProcessBtn">Start!</button>
          </div>
        </div>
      </div>
    </div>
    <!-- conversatonResultModal model ends here -->







    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script src="src/js/qr/jsQR.js"></script>
    <!-- <script type="text/javascript" src="src/js/qr/require.js"></script> -->

    <script type="module">
      import QrScanner from "./src/js/scanner/qr-scanner.min.js";
      QrScanner.WORKER_PATH = './src/js/scanner/qr-scanner-worker.min.js';

      const video = document.getElementById('qr-video');

      function setResult(result) {
          console.log("result=",result);
      }

      // ####### Web Cam Scanning #######

      window.QrScanner = QrScanner;

      // QrScanner.hasCamera().then((hasCamera) => {console.log("has camera?",hasCamera)});

      window.scanner = new QrScanner(video, result => console.log('decoded qr code:', result));

      //scanner.start();
    
    </script>

    <script>
        // setup camera

        // let scanner = new Instascan.Scanner({ video: document.getElementById('scanner') });
        // scanner.addListener('scan', function (content) {
        //   console.log(content);
        // });
        // Instascan.Camera.getCameras().then(function (cameras) {
        //   if (cameras.length > 0) {
        //     scanner.start(cameras[0]);
        //   } else {
        //     console.error('No cameras found.');
        //   }
        // }).catch(function (e) {
        //   console.error(e);
        // });


        //custom code

        SystemJS.config({
          baseURL: '/ESL-CPMS',
          packages: {
            '/':{
              defaultExtension: 'js'
            }
          }
        });

        SystemJS.import('src/js/app.js');
    
    </script>

    <!-- test purpose: JSCONSOLE -->

</body>
</html>